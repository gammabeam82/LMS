{% extends 'base.html.twig' %}

{% form_theme form 'bootstrap_3_horizontal_layout.html.twig' %}

{% block title %}{{ 'book.edit' | trans }}{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" href="{{ asset('assets/vendor/chosen-bootstrap/chosen.bootstrap.min.css') }}"/>
{% endblock %}

{% block body %}

	<div class="modal fade" id="Modal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header bg-warning">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="myModalLabel">{{ 'messages.caution' | trans }}</h4>
				</div>
				<div class="modal-body">
					{{ 'messages.delete' | trans }} <span class="book-name"></span>?
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">{{ 'actions.cancel' | trans }}</button>
					<a type="button" class="btn btn-danger delete-book" href="#">
						<i class="glyphicon glyphicon-remove"></i> {{ 'actions.delete' | trans }}
					</a>
				</div>
			</div>
		</div>
	</div>

	<div class="container-fluid">

		<div class="row">
			<div class="col-xs-12">
				<ol class="breadcrumb">
					<li><a href="{{ path('books') }}">{{ 'book.books' | trans }}</a></li>
					<li class="active">{{ 'book.edit' | trans }}</li>
				</ol>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-6">

				{{ form_start(form) }}
				{{ form_row(form.name) }}
				{{ form_row(form.author, {'attr': {'class': 'chosen-select'} }) }}
				{{ form_row(form.genre, {'attr': {'class': 'chosen-select', 'data-placeholder': 'messages.genre_select' | trans} }) }}

				<button type="submit" class="btn btn-success pull-right">
					<i class="glyphicon glyphicon-ok-circle"></i> {{ 'actions.save' | trans }}
				</button>

				<button data-name="{{ book.name }}" data-toggle="modal" data-target="#Modal" class="btn btn-danger delete pull-right" data-path="{{ path('books_delete', {'id': book.id}) }}">
					<i class="glyphicon glyphicon-remove"></i> {{ 'actions.delete' | trans }}
				</button>

				{{ form_end(form) }}
			</div>
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script src="{{ asset('assets/vendor/bootstrap-fileinput/js/fileinput.min.js') }}"></script>
	<script src="{{ asset('assets/vendor/chosen/chosen.jquery.js') }}"></script>
	<script src="{{ asset('assets/js/books-form.js') }}"></script>
{% endblock %}